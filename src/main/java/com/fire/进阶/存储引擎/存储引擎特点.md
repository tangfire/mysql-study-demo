

以下是 **InnoDB、MyISAM、Memory** 存储引擎在关键维度上的对比总结：

| **维度**                            | **InnoDB**                                                                 | **MyISAM**                                                                 | **Memory**                                                                 |
|-----------------------------------|----------------------------------------------------------------------------|----------------------------------------------------------------------------|----------------------------------------------------------------------------|
| <font color="#FF4500">**事务支持**</font> | 支持事务（ACID特性），可回滚操作                      | 不支持事务，操作即时生效                                   | 不支持事务                                                             |
| <font color="#FF4500">**锁机制**</font>  | 行级锁（支持MVCC多版本并发控制），减少锁冲突           | 表级锁，写操作会锁定整个表                                 | 无锁（全内存操作）或表级锁（仅哈希索引时）                         |
| <font color="#FF4500">**外键约束**</font> | 支持外键，保证数据完整性                              | 不支持外键，需应用层维护                                   | 不支持外键                                                             |
| **崩溃恢复能力**                        | 自动恢复（通过Redo Log和Undo Log）                        | 需手动修复（如`REPAIR TABLE`命令），易数据损坏                 | 数据丢失（内存存储，重启后清空）                                |
| **索引类型**                          | 聚簇索引（数据与主键索引绑定），辅助索引存储主键值         | 非聚簇索引（索引与数据分离），支持全文索引（MySQL 5.6前更优） | 默认哈希索引（O(1)查询），可选B+树索引                             |
| **存储结构**                          | 数据和索引存储在.ibd文件中（默认独立表空间）                  | 数据（.MYD）、索引（.MYI）、表结构（.frm）分开存储        | 数据存储在内存，表结构存于.frm文件                                 |
| **适用场景**                          | 高并发事务（如电商、金融）、需数据一致性的OLTP场景     | 读多写少（如日志分析、静态内容展示）、全文检索（早期版本） | 临时数据缓存（如会话管理）、高速读写但无需持久化的场景     |
| **压缩支持**                          | 支持行压缩（`ROW_FORMAT=COMPRESSED`）                             | 支持静态表压缩（压缩率高达70%）                               | 不支持压缩                                                             |
| **内存使用**                          | 需要较大缓冲池（Buffer Pool）管理数据和索引                  | 内存消耗较低（无事务日志和缓冲池）                                 | 完全内存存储，受`max_heap_table_size`限制                      |
| **性能特点**                          | 写入性能高（行级锁）、适合复杂查询                        | 读性能高（全表扫描快15-20%）、插入速度快                   | 读写速度极快（内存操作，是磁盘的100倍以上）               |

---

### **补充说明**
1. **行数统计**：
    - MyISAM直接缓存表总行数，`COUNT(*)`极快。
    - InnoDB需实时统计（因MVCC事务隔离可能导致行数版本不一致）。

2. **并发性能**：
    - InnoDB行级锁支持数千TPS（如电商秒杀场景），而MyISAM在高并发写入时易锁表。

3. **数据持久性**：
    - Memory引擎数据在服务器重启后丢失，需谨慎用于关键业务。

